<!doctype html>
<html>

<!-- if you dislike frontend: -->
<!-- python -m http.server 8080 --bind 127.0.0.1 --directory ./ -->

<head>
    <title>CSSS Admin Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/static/icons/favicon_white.png" />
</head>
<style>
    /* IBM Plex Mono */
    @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700#display=swap');

    body {
        font-family: monospace;
        font-weight: 400;
        font-size: 12px;

        color: lightgreen;
        background-color: black;
    }

    pre {
        width: 100ch;
        margin: auto;
        margin-top: 32px;
        margin-bottom: 32px;
    }

    b {
        color: white;
        font-weight: 700;
    }

    i {
        color: gray;
    }

    a {
        color: lightblue;
    }

    s {
        color: gray;
    }

    #controls {
        display: flex;
        gap: 2ch;

        margin-top: -2ch;
        padding: 1ch 0 0 1ch;
    }
    #controls div {
        width: calc(50ch - 2ch);
        padding: 1ch;
    }

    clickable {
        color: rgb(250, 204, 119);
        cursor: pointer;
        text-decoration: underline;
    }
    clickable:hover {
        color: rgb(235, 157, 94);
    }
    clickable:active {
        color: rgb(255, 246, 162);
    }

    #content {
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;

        width: 100ch;
        height: 36ch;

        margin: auto;

        background-color: black;
        color: grey;
    }

    #enterExecsTable {
        width: 100ch;
        height: 36ch;
    }
</style>

<script>

function routeView() {
    if (window.location.hash == "#execs") {
        enterExecs();
    } else if (window.location.hash == "#logs") {
        enterLogs();
    }
}
window.onload = routeView;
window.onhashchange = routeView;

function enterExecs() {
    console.log("#execs");

    // TODO: get this data from the endpoint
    response = {
        "president": [
            {
                "is_current_officer": true,
                "position": "president",
                "start_date": "2024-07-25T04:38:16.307842",
                "end_date": "2025-07-25T04:38:16.307844",
                "legal_name": "Person C",
                "nickname": "CC",
                "discord_name": null,
                "discord_nickname": null,
                "favourite_course_0": "CMPT 999",
                "favourite_course_1": "CMPT 354",
                "favourite_language_0": "C++",
                "favourite_language_1": "C",
                "csss_email": "csss-president-current@sfu.ca",
                "biography": "I'm person C...",
                "photo_url": null,
                "private_data": null
            }
        ],
        "president2": [
            {
                "is_current_officer": true,
                "position": "president",
                "start_date": "2024-07-25T04:38:16.307842",
                "end_date": "2025-07-25T04:38:16.307844",
                "legal_name": "Person C",
                "nickname": "CC",
                "discord_name": null,
                "discord_nickname": null,
                "favourite_course_0": "CMPT 999",
                "favourite_course_1": "CMPT 354",
                "favourite_language_0": "C++",
                "favourite_language_1": "C",
                "csss_email": "csss-president-current@sfu.ca",
                "biography": "I'm person C...",
                "photo_url": null,
                "private_data": null
            }
        ],
        "president3": [
            {
                "is_current_officer": true,
                "position": "president",
                "start_date": "2024-07-25T04:38:16.307842",
                "end_date": "2025-07-25T04:38:16.307844",
                "legal_name": "Person C",
                "nickname": "CC",
                "discord_name": null,
                "discord_nickname": null,
                "favourite_course_0": "CMPT 999",
                "favourite_course_1": "CMPT 354",
                "favourite_language_0": "C++",
                "favourite_language_1": "C",
                "csss_email": "csss-president-current@sfu.ca",
                "biography": "I'm person C...",
                "photo_url": null,
                "private_data": null
            }
        ]
    };

    // document.getElementById("content").style.overflowX = "scroll";

    let table = document.createElement("table");
    table.id = "enterExecsTable";
    table.style.height = "auto";
    table.style.fontSize = "10px";

    let thead = document.createElement("thead");
    let row = document.createElement("tr");
    for (let key in Object.values(response)[0][0]) {
        cell = document.createElement("th");
        cell.style.padding = "0 1ch 0 1ch";
        cell.innerHTML = key;
        row.appendChild(cell);
    }
    thead.appendChild(row);
    table.appendChild(thead);

    let tbody = document.createElement("tbody");
    tbody.style.color = "white";
    let runningIndex = 0;
    for (let i in Object.values(response)) {

        let positionInfoList = Object.values(response)[i];
        for (let j in positionInfoList) {

            row = document.createElement("tr");
            row.style.backgroundColor = (runningIndex % 2 == 0) ? "midnightblue" : "#111";
            runningIndex += 1;

            let positionInfo = positionInfoList[j];
            for (let key in positionInfo) {
                cell = document.createElement("td");
                cell.innerHTML = positionInfo[key];
                cell.style.padding = "0 1ch 0 1ch";
                row.appendChild(cell);
            }

            tbody.appendChild(row);
        }
    }

    table.appendChild(tbody);
    document.getElementById("content").innerHTML = '';
    document.getElementById("content").appendChild(table);
}

function enterLogs() {
    // TODO: flex center content
    document.getElementById("content").innerHTML = 'nothing...';
}

</script>

<body>
<pre>
<i>----------------------------------------------------------------------------------------------------</i>

<div style="display: flex; margin: 0 2ch; margin-bottom: -2ch;">
    <span style="color: lightgreen;">CSSS Admin Dashboard</span>
    <a href="https://sfucsss.org" style="margin-left: auto;">go home</a>
</div>

<i>----------------------------------------------------------------------------------------------------</i>

<div id="controls">
<div class="left"><span style="margin-top: -4ch; display: inline-block;">Views</span>
- <clickable onclick="window.location.hash = '#execs';">Execs</clickable>
- <clickable onclick="window.location.hash = '#logs';">Logs</clickable>
</div>
<div class="right" id="actions">Actions</div>
</div>
</pre>

<div id="content">
enter a view!
</div>

<pre>
<i>====================================================================================================</i>
</pre>

</body>

</html>