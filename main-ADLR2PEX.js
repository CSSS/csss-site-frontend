import{a as de,b as fe}from"./chunk-FNNHNBON.js";import{a as ie,b as ne,c as P,d as oe,e as re,f as ae,g as ce}from"./chunk-FETYYJSS.js";import{a as ue}from"./chunk-P7ND5KKC.js";import{a as se,b as le,d as $,g as b,h as u,j as pe,k as me,l as k}from"./chunk-UZKJUURQ.js";import{a as D}from"./chunk-JQWSBHIW.js";import{Hb as T,Ia as X,Ja as K,Ka as U,Kb as te,La as G,N as z,Na as M,Oa as A,Pa as s,Qa as o,Ra as a,S as d,Sa as p,Ua as y,W as h,Wa as g,X as _,Xa as m,Ya as J,Za as Y,aa as S,cb as w,db as Z,fb as O,gb as I,ib as v,ja as q,jb as C,lb as ee,ma as Q,na as r,pb as W,sb as B,tb as E,va as f,w as j}from"./chunk-VW7UUI7G.js";var ke=["*"],F=class n{entry=B.required();depth=B(0);icon=B();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["code-list-item"]],inputs:{entry:[1,"entry"],depth:[1,"depth"],icon:[1,"icon"]},ngContentSelectors:ke,decls:2,vars:3,consts:[[3,"ariaDisabled"]],template:function(e,i){e&1&&(J(),o(0,"li",0),Y(1),a()),e&2&&(O("padding-left",.5+i.depth()*1.5,"em"),s("ariaDisabled",i.entry().isDisabled))},dependencies:[T],styles:["[_nghost-%COMP%]{user-select:none;-webkit-user-select:none;display:block}li[_ngcontent-%COMP%]{height:100%}li[_ngcontent-%COMP%]:not([aria-disabled=true]):hover{cursor:pointer;background-color:#37373d}li[aria-disabled=true][_ngcontent-%COMP%]{color:gray;pointer-events:none}"],changeDetection:0})};var ge=[{key:"csss",label:"The CSSS",icon:k,isOpen:!0,children:[{key:"readme",label:"README",icon:u,route:"/readme"},{key:"officers",label:"Officers",icon:u,route:"/officers"},{key:"committees",label:"Committees",icon:u,route:"/committees"},{key:"common-room",label:"Common Room",icon:u,route:"/common-room"},{key:"affiliates",label:"Affiliates",icon:u,route:"/affiliates"}]},{key:"events",label:"Events",icon:u,isOpen:!0,children:[{key:"events.about",label:"About",icon:u,route:"/events"},{key:"events.tech-fair",label:"Tech Fair",icon:b,href:"https://tech-fair.sfucsss.org"},{key:"events.frosh",label:"Frosh Week",icon:b,href:"https://frosh.sfucsss.org"},{key:"events.fall-hacks",label:"Fall Hacks",icon:b,href:"https://new.sfucsss.org/fall_hacks/2024/index.html"},{key:"events.mountain-madness",label:"Mountain Madness",icon:b,href:"https://new.sfucsss.org/mountain_madness/2024/index.html"}]},{key:"elections",label:"Elections",icon:k,isOpen:!0,children:[{key:"elections.about",label:"About",icon:u,route:"/elections"},{key:"elections.upcoming",label:"Upcoming",icon:$,route:"/upcoming-elections",isDisabled:!0},{key:"elections.speeches",label:"Speeches",icon:$,route:"/speeches",isDisabled:!0}]},{key:"documents",label:"Documentation",icon:k,isOpen:!0,children:[{key:"documentation.constitution",label:"Constitution",icon:b,href:ue.constitution},{key:"documentation.policies",label:"Policies",icon:b,href:"https://github.com/CSSS/public-docs/tree/master/policies"},{key:"documentation.sfss-minutes",label:"SFSS Minutes",icon:b,href:"https://sfss.ca/about/meeting-times-minutes/council"}]}];var ve=(n,t,e)=>{let i=new Map;for(let[c,l]of n().entries())i.set(c,l);i.set(t,e),n.set(i)},be=(n,t)=>{let e=new Map;for(let[i,c]of n().entries())t!==i&&e.set(i,c);n.set(e)};var xe=new Map([[0,{id:0,label:"README",activityKey:"",key:"readme",route:"/readme"}],[1,{id:1,label:"Officers",activityKey:"",key:"officers",route:"/officers"}],[2,{id:2,label:"Committees",activityKey:"",key:"committees",route:"/committees"}],[3,{id:3,label:"Affiliates",activityKey:"",key:"affiliates",route:"/affiliates"}],[4,{id:4,label:"Common Room",activityKey:"",key:"common-room",route:"/common-room"}],[5,{id:5,label:"Events",activityKey:"",key:"events",route:"/events"}],[6,{id:6,label:"Elections",activityKey:"",key:"elections",route:"/elections"}]]);var he=n=>{for(let t of xe.values())if(t.route===n)return t};var x=class n{focusedApplication=S(null);runningApplications=S(new Map);router=d(P);constructor(){this.router.events.pipe(j(t=>t instanceof ie)).subscribe(t=>{let e=t.urlAfterRedirects;if(e=e.split("?")[0],console.log(e),e==="/"){this.focusedApplication.set(null);return}let i=he(e);i&&this.openApplication(i)})}openApplication(t){if(this.focusedApplication()?.id!==t.id){ve(this.runningApplications,t.id,t),this.focusedApplication.set(t);for(let i of this.runningApplications().values())if(i.activityKey===t.activityKey&&i.id!==t.id){this.closeApplication(i.id);break}}}closeApplication(t){if(be(this.runningApplications,t),this.runningApplications().size){let e=this.runningApplications().entries().next().value;e&&this.openApplication(e[1])}else this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Se=["navBar"],Me=["toggleButton"],Ae=["activityList"],Ie=()=>({exact:!0}),_e=(n,t)=>t.key;function we(n,t){if(n&1){let e=y();o(0,"a",17),g("click",function(){h(e);let c=m().$implicit,l=m(3);return _(l.navigate(c))}),p(1,"fa-icon",13),o(2,"span"),v(3),a()()}if(n&2){let e=m().$implicit;I("clickable",!e.isDisabled),s("routerLink",e.route),r(),s("icon",e.icon)("fixedWidth",!0),r(2),C(e.label)}}function Oe(n,t){if(n&1&&(o(0,"a",16),p(1,"fa-icon",13),o(2,"span"),v(3),a()()),n&2){let e=m().$implicit;s("href",e.href,q),r(),s("icon",e.icon)("fixedWidth",!0),r(2),C(e.label)}}function Be(n,t){if(n&1&&(o(0,"code-list-item",14),K(1,we,4,6,"a",15)(2,Oe,4,4,"a",16),a()),n&2){let e=t.$implicit;s("entry",e)("depth",1)("routerLinkActiveOptions",ee(4,Ie)),r(),U(e.route?1:2)}}function Ee(n,t){if(n&1&&(o(0,"ul",10),M(1,Be,3,5,"code-list-item",14,_e),a()),n&2){let e=m().$implicit;r(),A(e.children)}}function Te(n,t){if(n&1){let e=y();o(0,"code-list-item",11)(1,"button",12),g("click",function(){let c=h(e).$implicit,l=m();return _(l.toggleDirectory(c.key))}),p(2,"fa-icon",13),o(3,"span"),v(4),a()()(),K(5,Ee,3,0,"ul",10)}if(n&2){let e=t.$implicit,i=m();s("entry",e),r(2),s("icon",i.getDirectoryIcon(e.isOpen))("fixedWidth",!0),r(2),C(e.label),r(),U(e.isOpen&&(e.children!=null&&e.children.length)?5:-1)}}var L=class n{handleOutsideClick(t){this.uiService.isLargeViewport()||!this.navBarEl().nativeElement.contains(t.target)&&!this.toggleButtonEl().nativeElement.contains(t.target)&&!this.activityListEl().nativeElement.contains(t.target)&&this.uiService.isFileSystemOpen.set(!1)}navBarEl=E.required("navBar");toggleButtonEl=E.required("toggleButton");activityListEl=E.required("activityList");csssIcon=de;copyIcon=me;uiService=d(D);navEntries=S(ge);appService=d(x);router=d(P);ngOnInit(){this.uiService.isFileSystemOpen.set(this.uiService.isLargeViewport())}toggleFileSystem(){this.uiService.isFileSystemOpen.update(t=>!t)}getDirectoryIcon(t){return t?pe:k}toggleDirectory(t){this.navEntries.update(e=>e.map(i=>(i.key===t&&(i.isOpen=!i.isOpen),i)))}navigate(t){t.route&&(this.router.navigate([t.route]),this.uiService.isLargeViewport()||this.uiService.isFileSystemOpen.set(!1))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["cs-nav-bar"]],viewQuery:function(e,i){e&1&&(w(i.navBarEl,Se,5),w(i.toggleButtonEl,Me,5),w(i.activityListEl,Ae,5)),e&2&&Z(3)},hostBindings:function(e,i){e&1&&g("click",function(l){return i.handleOutsideClick(l)},Q)},decls:15,vars:5,consts:[["activityList",""],["toggleButton",""],["navBar",""],[1,"activity-list"],["routerLink","/",1,"<activity-list__home></activity-list__home>","clickable"],["size","2x",1,"csss-logo",3,"icon"],[1,"act-button","clickable","fs-icon",3,"click"],["size","2x",3,"icon"],[1,"navbar",3,"hidden"],[1,"navbar__heading"],[1,"navbar__list"],[3,"entry"],["type","button",1,"nav-entry",3,"click"],[1,"nav-entry__icon",3,"icon","fixedWidth"],["routerLinkActive","active",3,"entry","depth","routerLinkActiveOptions"],["routerLinkActive","active",1,"nav-entry",3,"routerLink","clickable"],["target","_blank",1,"nav-entry","clickable",3,"href"],["routerLinkActive","active",1,"nav-entry",3,"click","routerLink"]],template:function(e,i){if(e&1){let c=y();o(0,"aside",3,0)(2,"a",4),p(3,"fa-icon",5),a(),o(4,"div",6,1),g("click",function(){return h(c),_(i.toggleFileSystem())}),p(6,"fa-icon",7),a()(),o(7,"aside",8,2)(9,"h1",9),v(10,"SFU CSSS"),a(),o(11,"nav")(12,"ul",10),M(13,Te,6,5,null,null,_e),a()()()}e&2&&(r(3),s("icon",i.csssIcon),r(),I("focused",i.uiService.isFileSystemOpen()),r(2),s("icon",i.copyIcon),r(),s("hidden",!i.uiService.isFileSystemOpen()),r(6),A(i.navEntries()))},dependencies:[T,le,se,F,ce,oe,re],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.activity-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,4rem);align-items:center;height:calc(4rem + 1px);background-color:#111;border-bottom:1px solid #1e1e1e}.activity-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.activity-list[_ngcontent-%COMP%] > .focused[_ngcontent-%COMP%]{background-color:#37373d}.navbar[_ngcontent-%COMP%]{position:absolute;top:calc(4rem + 2px);height:calc(100vh - (4rem + 1px) - 1px - 1rem);background-color:#111;border-right:1px solid #1e1e1e;z-index:100;overflow:auto}.navbar__heading[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:400;padding:1rem 2em}.navbar__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:20rem}.nav-entry[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:.5rem 0}.nav-entry[aria-disabled=true][_ngcontent-%COMP%]{color:gray}.nav-entry__icon[_ngcontent-%COMP%]{margin-right:.5rem}.nav-entry__link[_ngcontent-%COMP%]{display:block;width:100%}.active[_ngcontent-%COMP%]{background-color:#37373d}@media (min-width: 968px){[_nghost-%COMP%]{display:grid;grid-template-columns:3.5rem min-content;height:calc(100vh - 1rem);width:100%}.activity-list[_ngcontent-%COMP%]{grid-template-columns:none;grid-template-rows:repeat(auto-fit,4rem);height:100%;border-right:1px solid #1e1e1e}.navbar[_ngcontent-%COMP%]{position:static;height:100%;z-index:100}}"],changeDetection:0})};var ye={"tab-bar-h":"2rem","status-line-h":"1rem","act-bar-w":"3.5rem","act-bar-h":"2rem"};function Pe(n,t){if(n&1){let e=y();o(0,"div",1)(1,"div",2),g("click",function(){let c=h(e).$implicit,l=m();return _(l.focusTab(c))}),p(2,"div",3),o(3,"div",4),v(4),a()(),o(5,"div",5)(6,"button",6),g("click",function(){let c=h(e).$implicit,l=m();return _(l.closeTab(c.id))}),v(7,"\u2715"),a()()()}if(n&2){let e=t.$implicit;I("focused",e.focused),r(4),C(e.label)}}var R=class n{get ariaRole(){return"tablist"}get height(){return this.isHidden()?"0px":ye["tab-bar-h"]}applicationService=d(x);uiService=d(D);tabs=W(()=>{let t=[],e=this.applicationService.focusedApplication()?.id;for(let i of this.applicationService.runningApplications().values())t.push({label:i.label,id:i.id,route:i.route,focused:e===i.id});return t});isHidden=W(()=>!this.uiService.isLargeViewport()&&this.applicationService.runningApplications().size===0);focusTab(t){this.applicationService.router.navigateByUrl(t.route)}closeTab(t){this.applicationService.closeApplication(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["cs-tab-bar"]],hostVars:3,hostBindings:function(e,i){e&2&&(X("aria-role",i.ariaRole),O("height",i.height))},decls:2,vars:0,consts:[[1,"tab","clickable",3,"focused"],[1,"tab","clickable"],[1,"click-nav",3,"click"],[1,"icon"],[1,"label"],[1,"x-container"],["type","button",3,"click"]],template:function(e,i){e&1&&M(0,Pe,8,3,"div",0,G),e&2&&A(i.tabs())},styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%;background-color:#111}.label[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.click-nav[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 4fr;align-content:start}.tab[_ngcontent-%COMP%]{user-select:none;-webkit-user-select:none;display:grid;grid-template-columns:5fr 2rem;align-content:center;background-color:#2d2d2d;box-shadow:0 -1px #1e1e1e inset;width:clamp(9rem,20vw,12rem)}.tab[_ngcontent-%COMP%] > .x-container[_ngcontent-%COMP%]{text-align:center}.tab[_ngcontent-%COMP%] > .x-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{filter:drop-shadow(0 0 4px rgba(255,255,200,.8))}.tab.focused[_ngcontent-%COMP%]{background-color:#333;border:none;box-shadow:0 3px #3b7765 inset}"],changeDetection:0})};var V=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[["id","outlet"],["id","status-line"]],template:function(e,i){e&1&&(p(0,"cs-nav-bar")(1,"cs-tab-bar"),o(2,"main",0),p(3,"router-outlet"),a(),p(4,"div",1))},dependencies:[ne,L,R],styles:["[_nghost-%COMP%]{display:grid;grid-template-rows:min-content auto 1fr 1rem;height:100%}#outlet[_ngcontent-%COMP%]{background-color:#333;overflow:auto}#status-line[_ngcontent-%COMP%]{height:1rem;background-color:#3b7765}@media (min-width: 968px){[_nghost-%COMP%]{grid-template-columns:min-content auto;grid-template-rows:2rem auto 1rem}#outlet[_ngcontent-%COMP%]{grid-row:2/3;grid-column:2/3;background-color:#333}#status-line[_ngcontent-%COMP%]{grid-column:1/3}}"],changeDetection:0})};var Ce={providers:[ae(fe)]};te(V,Ce).catch(n=>console.error(n));
